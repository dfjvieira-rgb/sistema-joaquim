<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>SISTEMA JOAQUIM PRO 2026</title>
    <style>
        :root { --primary: #1a252f; --accent: #f1c40f; --bg: #f8f9fa; --header-h: 60px; }
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); height: 100vh; overflow: hidden; display: flex; flex-direction: column; }

        header { background: var(--primary); color: white; height: var(--header-h); padding: 0 15px; display: flex; justify-content: space-between; align-items: center; z-index: 1000; }
        .timer { font-family: monospace; color: var(--accent); font-weight: bold; }

        /* MENU LATERAL */
        .drawer { position: fixed; top: 0; left: -100%; width: 280px; height: 100%; background: white; z-index: 2000; transition: 0.3s; box-shadow: 5px 0 15px rgba(0,0,0,0.3); overflow-y: auto; }
        .drawer.open { left: 0; }
        .drawer-header { background: var(--primary); color: white; padding: 30px 20px; }
        .drawer-section { background: #eee; padding: 10px 20px; font-size: 0.7rem; font-weight: bold; color: #777; border-top: 1px solid #ddd; }
        .drawer-item { padding: 15px 20px; border-bottom: 1px solid #eee; cursor: pointer; color: #333; font-weight: 500; font-size: 0.9rem; }

        /* CONTROLES SUPERIORES */
        .top-controls { background: #dfe6e9; border-bottom: 1px solid #ccc; padding: 10px; z-index: 100; }
        .exame-selector { width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 6px; border: 2px solid var(--primary); font-weight: bold; background: white; color: #1a252f; font-size: 1rem; }
        
        .vade-links { display: flex; gap: 5px; overflow-x: auto; padding-bottom: 10px; margin-bottom: 5px; }
        .btn-link { background: #2c3e50; color: white; border: none; padding: 8px 14px; border-radius: 4px; font-size: 0.75rem; font-weight: bold; text-decoration: none; white-space: nowrap; }

        .toolbar { display: flex; gap: 8px; overflow-x: auto; padding-top: 8px; border-top: 1px solid #ccc; }
        .btn-sym { background: white; border: 1px solid #b2bec3; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-weight: bold; font-size: 1rem; }

        /* WORKSPACE */
        .workspace { display: flex; flex: 1; overflow: hidden; }
        .col { display: flex; flex-direction: column; border-right: 1px solid #ddd; }
        .col-respostas { flex: 1.3; background: white; }
        .col-apoio { flex: 1; background: #525659; }

        /* PAPEL PAUTADO OAB */
        .paper { flex: 1; display: flex; overflow-y: auto; background-image: linear-gradient(#e1e1e1 1px, transparent 1px); background-size: 100% 25px; background-attachment: local; }
        .line-nums { width: 35px; background: #f8f9fa; border-right: 1px solid #ddd; text-align: center; color: #bbb; font-size: 11px; line-height: 25px; padding-top: 25px; }
        textarea { flex: 1; padding: 25px; border: none; outline: none; resize: none; font-family: 'Times New Roman', serif; font-size: 18px; line-height: 25px; background: transparent; }

        /* NAVEGAÃ‡ÃƒO DE PDF (ALTERNÃ‚NCIA) */
        .pdf-nav { display: flex; background: #333; gap: 1px; }
        .pdf-btn { flex: 1; border: none; background: #444; color: #ccc; padding: 14px 5px; font-size: 0.75rem; cursor: pointer; font-weight: bold; text-transform: uppercase; }
        .pdf-btn.active { background: var(--accent); color: var(--primary); }

        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 1500; display: none; }
        .overlay.active { display: block; }

        @media (max-width: 1024px) {
            .workspace { flex-direction: column; overflow-y: auto; }
            .col { width: 100%; height: 60vh; flex: none; }
        }
    </style>
</head>
<body>

<div class="overlay" id="overlay" onclick="toggleMenu()"></div>

<header>
    <div onclick="toggleMenu()" style="cursor:pointer; font-size: 1.2rem; font-weight: bold;">â˜° MENU</div>
    <div>JOAQUIM <span style="color:var(--accent)">PRO</span></div>
    <div class="timer" id="timer">05:00:00</div>
</header>

<nav class="drawer" id="drawer">
    <div class="drawer-header"><b>SISTEMA DE ESTUDO</b></div>
    <div class="drawer-section">PEÃ‡AS (ARYANNA)</div>
    <div class="drawer-item" onclick="inserirModelo('rt')">ðŸ“„ ReclamaÃ§Ã£o (Art. 840)</div>
    <div class="drawer-item" onclick="inserirModelo('contestacao')">ðŸ“„ ContestaÃ§Ã£o (Art. 847)</div>
    <div class="drawer-item" onclick="inserirModelo('ro')">ðŸ“„ Recurso OrdinÃ¡rio (Art. 895)</div>
</nav>

<main id="view-treino" class="view active">
    <div class="top-controls">
        <select class="exame-selector" id="select-exame" onchange="selecionarExame()">
            <option value="">Escolha o Exame para Treino (35 ao 44)</option>
            <option value="35">ðŸŽ¯ XXXV Exame Unificado</option>
            <option value="36">ðŸŽ¯ XXXVI Exame Unificado</option>
            <option value="37">ðŸŽ¯ XXXVII Exame Unificado</option>
            <option value="38">ðŸŽ¯ XXXVIII Exame Unificado</option>
            <option value="39">ðŸŽ¯ XXXIX Exame Unificado</option>
            <option value="40">ðŸŽ¯ XL Exame Unificado</option>
            <option value="41">ðŸŽ¯ XLI Exame Unificado</option>
            <option value="42">ðŸŽ¯ XLII Exame Unificado</option>
            <option value="43">ðŸŽ¯ XLIII Exame Unificado</option>
            <option value="44">ðŸŽ¯ XLIV Exame Unificado</option>
        </select>

        <div class="vade-links">
            <a href="https://www.planalto.gov.br/ccivil_03/decreto-lei/del5452.htm" target="_blank" class="btn-link">CLT</a>
            <a href="https://www.planalto.gov.br/ccivil_03/constituicao/constituicao.htm" target="_blank" class="btn-link">CF/88</a>
            <a href="https://www3.tst.jus.br/jurisprudencia/Sumulas_com_indice/Sumulas_Indice_1_50.html" target="_blank" class="btn-link">SÃšMULAS</a>
            <a href="https://www3.tst.jus.br/jurisprudencia/OJ_Indices/index_oj.html" target="_blank" class="btn-link">OJs</a>
        </div>

        <div class="toolbar">
            <button class="btn-sym" onclick="insertSym('Â§')">Â§</button>
            <button class="btn-sym" onclick="insertSym('Art. ')">Art.</button>
            <button class="btn-sym" onclick="insertSym('CLT')">CLT</button>
            <button class="btn-sym" onclick="insertSym('TST')">TST</button>
            <button class="btn-sym" onclick="insertSym('OJ ')">OJ</button>
        </div>
    </div>

    <div class="workspace">
        <section class="col col-respostas">
            <div style="background:var(--primary); color:white; padding:5px 10px; font-size:0.7rem; display:flex; justify-content:space-between;">
                <span>FOLHA OAB</span><span id="l-main">L: 1</span>
            </div>
            <div class="paper"><div class="line-nums" id="n-main"></div><textarea id="area-main" oninput="save()"></textarea></div>
        </section>

        <section class="col col-apoio">
            <div class="pdf-nav">
                <button class="pdf-btn active" id="btn-apostila" onclick="alternarVisao('apostila')">Apostila</button>
                <button class="pdf-btn" id="btn-prova" onclick="alternarVisao('prova')">Prova</button>
                <button class="pdf-btn" id="btn-gabarito" onclick="alternarVisao('gab')">Gabarito</button>
            </div>
            <iframe id="f-pdf" src="./Aryanna Linhares.pdf" style="flex:1; border:none; background:white;"></iframe>
        </section>
    </div>
</main>

<script>
    const $ = (id) => document.getElementById(id);
    const gen = (el) => { for(let i=1; i<=150; i++) el.innerHTML += i + '<br>'; };
    gen($('n-main'));

    // Objeto que controla os arquivos do exame selecionado
    let arquivosAtuais = {
        apostila: './Aryanna Linhares.pdf',
        prova: '',
        gab: ''
    };

    function selecionarExame() {
        const e = $('select-exame').value;
        if(e !== "") {
            // Define os caminhos dos arquivos baseados no nÃºmero do exame
            arquivosAtuais.prova = `./prova${e}.pdf`;
            arquivosAtuais.gab = `./gabarito${e}.pdf`;
            
            // Ao selecionar, abre automaticamente a Prova para comeÃ§ar o treino
            alternarVisao('prova');
        }
    }

    function alternarVisao(tipo) {
        let url = "";
        if (tipo === 'apostila') url = arquivosAtuais.apostila;
        if (tipo === 'prova') url = arquivosAtuais.prova || arquivosAtuais.apostila;
        if (tipo === 'gab') url = arquivosAtuais.gab || arquivosAtuais.apostila;

        $('f-pdf').src = url;

        // Atualiza o estado visual dos botÃµes
        document.querySelectorAll('.pdf-btn').forEach(b => b.classList.remove('active'));
        $(`btn-${tipo === 'gab' ? 'gabarito' : tipo}`).classList.add('active');
    }

    function toggleMenu() { $('drawer').classList.toggle('open'); $('overlay').classList.toggle('active'); }

    function insertSym(s) {
        const a = $('area-main');
        const start = a.selectionStart;
        a.value = a.value.slice(0, start) + s + a.value.slice(a.selectionEnd);
        a.focus();
        a.setSelectionRange(start + s.length, start + s.length);
        save();
    }

    function inserirModelo(t) {
        const m = {
            rt: `AO DOUTO JUÃZO DA ____ VARA DO TRABALHO DE ____\n\nRECLAMANTE, jÃ¡ qualificado, vem, com fulcro no Art. 840, Â§ 1Âº, da CLT...`,
            contestacao: `AO DOUTO JUÃZO DA ____ VARA DO TRABALHO DE ____\n\nProcesso nÂº ____\n\nRECLAMADA, jÃ¡ qualificada, com fulcro no Art. 847 da CLT...`,
            ro: `AO DOUTO JUÃZO DA ____ VARA DO TRABALHO DE ____\n\nProcesso nÂº ____\n\nRECORRENTE, jÃ¡ qualificado, com fulcro no Art. 895, I, da CLT...`
        };
        if(confirm("Deseja carregar este modelo?")) { $('area-main').value = m[t]; save(); toggleMenu(); }
    }

    function save() { 
        localStorage.setItem('j_main', $('area-main').value); 
        $('l-main').innerText = "L: " + $('area-main').value.split('\n').length; 
    }

    window.onload = () => { 
        $('area-main').value = localStorage.getItem('j_main') || ""; 
        save(); 
    };

    let s = 18000;
    setInterval(() => { 
        if(s>0){ 
            s--; 
            let h=Math.floor(s/3600), m=Math.floor((s%3600)/60), sc=s%60; 
            $('timer').innerText = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${sc.toString().padStart(2,'0')}`; 
        } 
    }, 1000);
</script>
</body>
</html>
