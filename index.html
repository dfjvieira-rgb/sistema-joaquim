<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>ARYANNA MASTER PRO | 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Courier+Prime&swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf_viewer.min.css">
    <style>
        :root{--primary:#2563eb;--success:#059669;--warning:#f59e0b;--bg-site:#f8fafc;--gold:#d4af37;--pen-blue:#1e3a8a;--paper:#ffffff;--text:#1e293b;--toolbar-bg:#ffffff;--border:#cbd5e1}.dark-mode{--paper:#1e293b;--pen-blue:#93c5fd;--bg-site:#0f172a;--text:#f1f5f9;--toolbar-bg:#1e293b;--border:#334155}*{box-sizing:border-box;margin:0;padding:0}body{font-family:'Inter',sans-serif;background:var(--bg-site);height:100vh;display:flex;flex-direction:column;overflow:hidden;color:var(--text)}header{background:#1e293b;padding:0 15px;border-bottom:2px solid var(--gold);display:flex;justify-content:space-between;align-items:center;height:45px;z-index:1001}.logo{font-weight:800;color:var(--gold);font-size:.8rem}.main-container{flex:1;display:flex;overflow:hidden;position:relative}.editor-section{flex:1;display:flex;flex-direction:column;background:var(--bg-site);border-right:1px solid var(--border);min-width:0}.toolbar{background:var(--toolbar-bg);padding:8px;display:flex;gap:5px;border-bottom:1px solid var(--border);align-items:center;overflow-x:auto}.btn-symbol{height:36px;min-width:40px;border-radius:8px;border:1px solid var(--border);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.1rem;background:var(--toolbar-bg);color:var(--text);flex-shrink:0}.paper-wrapper{flex:1;overflow-y:auto;padding:10px;background:rgba(0,0,0,.1)}.paper-sheet{width:100%;max-width:800px;background:var(--paper);min-height:2500px;display:flex;margin:0 auto;box-shadow:0 4px 15px rgba(0,0,0,.2)}.line-nums{width:35px;background:rgba(0,0,0,.03);border-right:1px solid var(--border);text-align:center;color:#94a3b8;font-size:11px;padding-top:15px;line-height:28px}.text-area{flex:1;border:none;outline:none;padding:11px 15px;font-size:16px;line-height:28px;color:var(--pen-blue);background-image:linear-gradient(transparent,transparent 27px,var(--border) 28px);background-size:100% 28px;background-attachment:local;resize:none;background-color:transparent}.viewer-section{flex:1.2;display:flex;flex-direction:column;background:#334155;min-width:0;position:relative}.tabs{display:flex;background:#1e293b;padding:5px 5px 0;gap:3px;z-index:10}.tab{padding:8px 12px;border:none;border-radius:5px 5px 0 0;background:#0f172a;color:#94a3b8;font-size:.7rem;cursor:pointer}.tab.active{background:var(--bg-site);color:var(--primary);font-weight:700}#pdf-viewport{flex:1;overflow-y:auto;background:#525659;padding:10px 0}.page-container{position:relative;margin:0 auto 15px;background:#fff;box-shadow:0 2px 10px rgba(0,0,0,.3);overflow:hidden}canvas{display:block;width:100%!important;height:auto!important}.textLayer{position:absolute;inset:0;overflow:hidden;opacity:.2;line-height:1}.textLayer>span{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0 0}.modal-full{display:none;position:fixed;inset:0;background:var(--bg-site);z-index:9999;flex-direction:column}.modal-header{background:#1e293b;color:#fff;padding:0 15px;display:flex;align-items:center;border-bottom:2px solid var(--gold);height:50px;gap:10px}.modal-body{flex:1;overflow-y:auto;padding:15px}.espelho-item{background:var(--paper);border:1px solid var(--border);padding:10px;margin-bottom:8px;border-radius:6px;display:flex;align-items:center;gap:10px}.espelho-pt{font-weight:800;color:var(--primary);font-size:.75rem}.nota-floating{position:sticky;top:0;background:var(--gold);color:#000;padding:10px;text-align:center;font-weight:900;border-radius:8px;margin-bottom:15px;z-index:10}
    </style>
</head>
<body class="dark-mode">

<header>
    <div class="logo">ARYANNA MASTER 2026</div>
    <div id="timer-display" style="color:var(--warning);font-family:'Courier Prime';font-weight:700">05:00:00</div>
</header>

<div class="main-container">
    <section class="editor-section">
        <div class="toolbar">
            <select id="exam-select" onchange="window.mudarExame()" class="btn-symbol"></select>
            <button class="btn-symbol" onclick="window.toggleEstruturas()">‚öñÔ∏è</button>
            <button class="btn-symbol" onclick="window.abrirModal('modal-respostas')">üìö</button>
            <button class="btn-symbol" onclick="window.abrirModal('modal-espelho')">üéØ</button>
            <button class="btn-symbol" onclick="window.abrirModal('modal-dicas')">üí°</button>
            <button class="btn-symbol" onclick="window.abrirModal('modal-nc')">üìå</button>
            <button class="btn-symbol" onclick="window.location.href='mentoria.html'">üèÜ</button>
            <button class="btn-symbol" style="background:var(--success);color:#fff;margin-left:auto;" onclick="window.finalizarManual()">üíæ</button>
        </div>
        <div class="paper-wrapper">
            <div class="paper-sheet">
                <div class="line-nums" id="ln-main"></div>
                <textarea id="texto-final" class="text-area" spellcheck="false" oninput="window.autoSave()" placeholder="Inicie sua pe√ßa..."></textarea>
            </div>
        </div>
    </section>

    <section class="viewer-section" id="section-pdf">
        <div class="tabs">
            <button id="tab-prova" class="tab active" onclick="window.carregarPDF('prova')">PROVA</button>
            <button id="tab-gabarito" class="tab" onclick="window.carregarPDF('gabarito')">GABARITO</button>
            <button id="tab-vade" class="tab" onclick="window.carregarPDF('vade')">VADE</button>
        </div>
        <div id="pdf-viewport"></div>
    </section>
</div>

<div id="menu-estruturas" style="display:none;position:absolute;top:50px;left:20px;background:var(--toolbar-bg);border-radius:8px;box-shadow:0 5px 20px rgba(0,0,0,.3);z-index:5000;width:280px;border:1px solid var(--border);max-height:80vh;overflow-y:auto"></div>

<div id="modal-espelho" class="modal-full"><div class="modal-header"><button onclick="window.fecharModal('modal-espelho')">‚Üê VOLTAR</button><h3>ESPELHO FGV</h3></div><div class="modal-body"><div class="nota-floating">NOTA: <span id="nota-valor">0.00</span> / 5.00</div><div id="checklist-fgv"></div></div></div>
<div id="modal-respostas" class="modal-full"><div class="modal-header"><button onclick="window.fecharModal('modal-respostas')">‚Üê VOLTAR</button><h3>FOLHA DE RESPOSTAS</h3></div><div class="modal-body"><div class="paper-sheet"><div class="line-nums" id="ln-res"></div><textarea id="res-editor" class="text-area" oninput="window.saveMeta('v3_respostas', this.value)"></textarea></div></div></div>
<div id="modal-dicas" class="modal-full"><div class="modal-header"><button onclick="window.fecharModal('modal-dicas')">‚Üê VOLTAR</button><h3>DICAS</h3></div><div class="modal-body"><div class="paper-sheet"><div class="line-nums" id="ln-dicas"></div><textarea id="dicas-editor" class="text-area" oninput="window.saveMeta('v3_dicas', this.value)"></textarea></div></div></div>
<div id="modal-nc" class="modal-full"><div class="modal-header"><button onclick="window.fecharModal('modal-nc')">‚Üê VOLTAR</button><h3>POST-ITS / TESES</h3></div><div class="modal-body"><div id="box-teses"></div><button onclick="window.addNCField('box-teses', 'input')">+ Tese</button><div id="box-explica"></div><button onclick="window.addNCField('box-explica', 'textarea')">+ Detalhe</button><button onclick="window.saveNC()" style="width:100%;margin-top:20px;padding:15px;background:var(--success);color:#fff;border:none;border-radius:8px;font-weight:700">SALVAR POST-ITS</button></div></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
import { getDatabase, ref, set, get } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

const config = { apiKey: "AIzaSyAmigODFK8R9c0-fWtagdxLWu9xkODfKYQ", authDomain: "masteroab-db5e1.firebaseapp.com", projectId: "masteroab-db5e1", databaseURL: "https://masteroab-db5e1-default-rtdb.firebaseio.com" };
const app = initializeApp(config); const db = getDatabase(app);
pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.worker.min.js';

// VARI√ÅVEIS DE ESTRUTURA
const QUALIF = "nacionalidade..., estado civil..., profiss√£o..., portador da c√©dula de identidade RG n¬∫..., inscrito no CPF sob o n¬∫..., endere√ßo eletr√¥nico..., residente e domiciliado na...";
const SALTO = "\n\n\n\n\n\n\n\n\n\n";

const pecas = {
    'RT': `AO DOUTO JU√çZO DA ... VARA DO TRABALHO DE ...${SALTO}NOME DO RECLAMANTE, ${QUALIF}, vem, com fulcro no Art. 840, ¬ß 1¬∫ da CLT, propor:\n\nRECLAMA√á√ÉO TRABALHISTA (RITO ...)\n\nem face de NOME DA RECLAMADA, (qualifica√ß√£o).\n\nI - PRELIMINARMENTE\na) Justi√ßa Gratuita (Art. 790, ¬ß3¬∫ CLT);\nb) Tramita√ß√£o Priorit√°ria (Art. 1.048 CPC);\nc) Antecipa√ß√£o de Tutela (Art. 300 CPC / Art. 273 CLT).\n\nII - DO M√âRITO (Fato, Fundamento e Pedido)\n1. (T√çTULO DO PEDIDO)\nFato: ...\nFundamento: (Artigo/S√∫mula/OJ) ...\nPedido: Requer a condena√ß√£o ao pagamento de ...\n\nIII - REQUERIMENTOS FINAIS\na) Notifica√ß√£o da reclamada (S√∫mula 74 TST);\nb) Produ√ß√£o de provas (documental, testemunhal e pericial);\nc) PROCED√äNCIA TOTAL com juros e corre√ß√£o;\nd) Honor√°rios de sucumb√™ncia de 15% (Art. 791-A da CLT);\ne) Recolhimentos previdenci√°rios e fiscais.\n\nAtribui-se √† causa o valor de R$ ...\n\nNestes Termos, Pede Deferimento. Local e Data. Advogado... OAB...`,
    'CON': `AO DOUTO JU√çZO DA ... VARA DO TRABALHO DE ...\n\nProcesso n¬∫ ...${SALTO}NOME DA RECLAMADA, j√° qualificada, vem, com fulcro no Art. 847 da CLT, apresentar:\n\nCONTESTA√á√ÉO\n\nem face de NOME DO RECLAMANTE.\n\nI - PRELIMINARES DE M√âRITO (Art. 337 do CPC)\n(In√©pcia, Ilegitimidade, Peremp√ß√£o, Litispend√™ncia, Coisa Julgada).\n\nII - PREJUDICIAIS DE M√âRITO\n(Prescri√ß√£o Bienal ou Quinquenal - Art. 7¬∫, XXIX, CF/88).\n\nIII - DO M√âRITO\n(Impugna√ß√£o espec√≠fica para cada item - Fato, Fundamento e Pedido de Improced√™ncia).\n\nIV - REQUERIMENTOS FINAIS\na) Acolhimento das preliminares e prejudiciais;\nb) No m√©rito, a TOTAL IMPROCED√äNCIA;\nc) Produ√ß√£o de provas;\nd) Honor√°rios de sucumb√™ncia (Art. 791-A, ¬ß3¬∫ CLT).\n\nNestes Termos, Pede Deferimento. Local e Data. Advogado... OAB...`,
    'RO': `AO DOUTO JU√çZO DA ... VARA DO TRABALHO DE ...\n\nProcesso n¬∫ ...${SALTO}NOME DO RECORRENTE, j√° qualificado, vem, com fulcro no Art. 895, I da CLT, interpor:\n\nRECURSO ORDIN√ÅRIO\n\npara o Egr√©gio TRT. Pressupostos de admissibilidade presentes (Tempestividade e Preparo anexos). Requer intima√ß√£o da parte contr√°ria e remessa ao Tribunal.\n\n----------\n\nRAZ√ïES DO RECURSO ORDIN√ÅRIO\n\nI - PRELIMINARES/PREJUDICIAIS RECURSAIS\nII - M√âRITO (REFORMA DO JULGADO)\n(Tese: Fato, Fundamento e Pedido de Reforma).\n\nIII - CONCLUS√ÉO\nRequer o CONHECIMENTO e PROVIMENTO do recurso.\n\nLocal e Data. Advogado... OAB...`,
    'ACP': `AO DOUTO JU√çZO DA ... VARA DO TRABALHO DE ...${SALTO}NOME DO CONSIGNANTE, ${QUALIF}, vem, com fulcro no Art. 539 do CPC e Art. 769 da CLT, propor:\n\nA√á√ÉO DE CONSIGNA√á√ÉO EM PAGAMENTO\n\nI - DO DEP√ìSITO\nRequer o dep√≥sito da quantia/objeto no prazo de 5 dias (Art. 542, I CPC).\n\nII - DO M√âRITO\n(Explicar recusa ou d√∫vida no pagamento - Art. 544 CPC).\n\nIII - REQUERIMENTOS FINAIS\na) Deferimento do dep√≥sito;\nb) Notifica√ß√£o do consignat√°rio para levantar ou contestar;\nc) PROCED√äNCIA para declarar extinta a obriga√ß√£o e dar quita√ß√£o das parcelas;\nd) Honor√°rios.\n\nValor da causa: R$ ...\nNestes Termos, Pede Deferimento.`,
    'INQUERITO': `AO DOUTO JU√çZO DA ... VARA DO TRABALHO DE ...${SALTO}NOME DO REQUERENTE, ${QUALIF}, vem, com fulcro no Art. 853 da CLT, propor:\n\nINQU√âRITO PARA APURA√á√ÉO DE FALTA GRAVE\n\nI - DA SUSPENS√ÉO (Prazo de 30 dias - Art. 853 CLT).\nII - DO M√âRITO (Falta grave - Art. 482 CLT).\nIII - REQUERIMENTOS FINAIS\na) Notifica√ß√£o do requerido;\nb) Oitiva de at√© 6 testemunhas (Art. 821 CLT);\nc) Proced√™ncia para rescindir o contrato por justa causa.\n\nNestes Termos, Pede Deferimento.`,
    'RR': `AO EXCELENT√çSSIMO SENHOR DOUTOR DESEMBARGADOR PRESIDENTE DO EGR√âGIO TRT DA ... REGI√ÉO\n\nProcesso n¬∫ ...${SALTO}NOME DO RECORRENTE, j√° qualificado, vem, com fulcro no Art. 896 da CLT, interpor RECURSO DE REVISTA.\n\n----------\n\nRAZ√ïES DO RECURSO DE REVISTA\n\nI - TRANSCEND√äNCIA (Art. 896-A CLT);\nII - PRESSUPOSTOS INTR√çNSECOS (Diverg√™ncia ou Viola√ß√£o);\nIII - PREQUESTIONAMENTO (Transcri√ß√£o do trecho da decis√£o - Art. 896, ¬ß1¬∫-A CLT).\
