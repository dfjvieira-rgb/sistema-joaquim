<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SISTEMA JOAQUIM - MENTORIA f5071219</title>
    <style>
        :root { --primary: #0f172a; --accent: #3b82f6; --bg: #f8fafc; --sidebar-bg: #1e293b; --danger: #ef4444; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; height: 100vh; overflow: hidden; background: var(--bg); }
        #login-screen { position: fixed; inset: 0; background: var(--primary); display: flex; align-items: center; justify-content: center; z-index: 9999; }
        #main-app { display: none; width: 100%; height: 100vh; flex-direction: column; }
        
        /* CabeÃ§alho e CronÃ´metro */
        header { background: var(--primary); color: white; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 4px solid var(--accent); flex-shrink: 0; }
        .timer-container { background: #000; padding: 8px 15px; border-radius: 8px; border: 2px solid var(--accent); display: flex; align-items: center; gap: 10px; }
        #timer-display { font-family: 'Courier New', monospace; font-size: 1.5rem; color: #fff; font-weight: bold; min-width: 120px; text-align: center; }
        .timer-controls button { background: var(--accent); border: none; color: white; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 0.7rem; font-weight: bold; }
        .timer-controls button.reset { background: var(--danger); }

        .main-layout { display: flex; flex-grow: 1; overflow: hidden; }
        .sidebar { width: 280px; background: var(--sidebar-bg); padding: 15px; overflow-y: auto; flex-shrink: 0; border-right: 1px solid #334155; }
        .nav-btn { width: 100%; text-align: left; padding: 10px; margin-bottom: 5px; border: none; background: rgba(255,255,255,0.08); color: #f8fafc; cursor: pointer; border-radius: 6px; font-size: 0.8rem; }
        .nav-btn:hover { background: rgba(255,255,255,0.15); }
        .nav-btn.active { background: var(--accent); font-weight: bold; }

        .content-area { flex-grow: 1; padding: 20px; overflow-y: auto; }
        #joaquim { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); min-height: 85vh; border: 1px solid #e2e8f0; max-width: 900px; margin: 0 auto; }
        
        .gabarito-panel { background: #f1f5f9; border: 2px solid var(--accent); padding: 15px; border-radius: 10px; margin-bottom: 20px; }
        .gab-btn { background: var(--accent); color: white; border: none; padding: 10px; border-radius: 6px; cursor: pointer; font-weight: bold; width: 100%; }
        .guia-btn { width: 100%; background: #10b981; color: white; border: none; padding: 10px; border-radius: 6px; font-weight: bold; margin-top: 8px; cursor: pointer; }
        .gab-content, .guia-content { display: none; margin-top: 15px; padding: 20px; background: white; border: 1px solid #cbd5e1; white-space: pre-wrap; font-family: 'Times New Roman', serif; font-size: 1.1rem; }
        
        .copy-btn { width: 100%; margin-bottom: 20px; background: #10b981; color: white; border: none; padding: 15px; border-radius: 10px; font-weight: bold; cursor: pointer; }
        #texto-final { outline: none; min-height: 500px; white-space: pre-wrap; margin-top: 20px; border-top: 2px dashed #cbd5e1; padding-top: 20px; font-family: 'Times New Roman', serif; font-size: 1.1rem; }
    </style>
</head>
<body>

<div id="login-screen">
    <button onclick="liberar()" style="padding:20px 40px; background:var(--accent); color:white; border:none; border-radius:8px; cursor:pointer; font-weight:bold;">ENTRAR NO SISTEMA f5071219</button>
</div>

<div id="main-app">
    <header>
        <div>SISTEMA JOAQUIM - MENTORIA</div>
        <div class="timer-container">
            <span id="timer-display">05:00:00</span>
            <div class="timer-controls">
                <button id="startStopBtn" onclick="toggleTimer()">INICIAR</button>
                <button class="reset" onclick="resetTimer()">RESET</button>
            </div>
        </div>
    </header>
    <div class="main-layout">
        <nav class="sidebar" id="menuLateral"></nav>
        <main class="content-area"><div id="joaquim">Selecione uma peÃ§a na barra lateral.</div></main>
    </div>
</div>

<script>
    // CRONÃ”METRO LOGIC
    let timeLeft = 5 * 60 * 60; // 5 horas em segundos
    let timerInterval = null;

    function updateTimerDisplay() {
        const hours = Math.floor(timeLeft / 3600);
        const minutes = Math.floor((timeLeft % 3600) / 60);
        const seconds = timeLeft % 60;
        document.getElementById('timer-display').innerText = 
            `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        
        if (timeLeft <= 1800) { // Avisar se faltar 30 min
            document.getElementById('timer-display').style.color = '#ef4444';
        } else {
            document.getElementById('timer-display').style.color = '#fff';
        }
    }

    function toggleTimer() {
        const btn = document.getElementById('startStopBtn');
        if (timerInterval) {
            clearInterval(timerInterval);
            timerInterval = null;
            btn.innerText = 'INICIAR';
        } else {
            btn.innerText = 'PAUSAR';
            timerInterval = setInterval(() => {
                if (timeLeft > 0) {
                    timeLeft--;
                    updateTimerDisplay();
                } else {
                    clearInterval(timerInterval);
                    alert("TEMPO ESGOTADO! Finalize sua peÃ§a.");
                }
            }, 1000);
        }
    }

    function resetTimer() {
        clearInterval(timerInterval);
        timerInterval = null;
        timeLeft = 5 * 60 * 60;
        document.getElementById('startStopBtn').innerText = 'INICIAR';
        updateTimerDisplay();
    }

    // BANCO DE DADOS
    const dbGabaritos = {
        'rt': { 1: `EXCELENTÃSSIMO SENHOR DOUTO JUIZ DA ... VARA DO TRABALHO...\n\nRECLAMAÃ‡ÃƒO TRABALHISTA\n\nI - MÃ‰RITO: EquiparaÃ§Ã£o Salarial (Art. 461 CLT), DiferenÃ§as de FGTS (Art. 611-B, III CLT), Intervalo Intrajornada (Art. 71 CLT).`, guia: `Fundamente a EquiparaÃ§Ã£o no Art. 461 e o FGTS no Art. 611-B.` },
        'consigna': { 1: `AO JUÃZO DA ... VARA DO TRABALHO...\n\nAÃ‡ÃƒO DE CONSIGNAÃ‡ÃƒO EM PAGAMENTO\n\nOBJETO: DepÃ³sito de verbas rescisÃ³rias e pertences (Art. 539 CPC).`, guia: `Use para evitar a multa do Art. 477, Â§ 8Âº da CLT.` },
        'cont': { 1: `AO JUÃZO DA ... VARA DO TRABALHO...\n\nCONTESTAÃ‡ÃƒO COM RECONVENÃ‡ÃƒO\n\nI - PRELIMINARES: InÃ©pcia e IncompetÃªncia.\nII - PREJUDICIAL: PrescriÃ§Ã£o Quinquenal (Art. 7, XXIX CF).`, guia: `A ReconvenÃ§Ã£o serve para cobrar prejuÃ­zos causados pelo empregado.` },
        'emb_exec': { 1: `AO JUÃZO DA ... VARA DO TRABALHO...\n\nEMBARGOS Ã€ EXECUÃ‡ÃƒO\n\nTESE: Impenhorabilidade de Bem de FamÃ­lia (Lei 8.009/90).`, guia: `Prazo de 5 dias apÃ³s a garantia do juÃ­zo.` },
        'ro': { 1: `AO JUÃZO DA ... VARA DO TRABALHO...\n\nRECURSO ORDINÃRIO\n\nRAZÃ•ES DE RECURSO ORDINÃRIO...`, guia: `Art. 895, I da CLT. Prazo de 8 dias.` },
        'ed': { 1: `AO JUÃZO DA ... VARA DO TRABALHO...\n\nEMBARGOS DE DECLARAÃ‡ÃƒO\n\nTese: OmissÃ£o, ContradiÃ§Ã£o ou Obscuridade.`, guia: `Prazo de 5 dias.` },
        'ap': { 1: `AO JUÃZO DA ... VARA DO TRABALHO...\n\nAGRAVO DE PETIÃ‡ÃƒO\n\nDelimitaÃ§Ã£o de matÃ©rias e valores (Art. 897, Â§ 1Âº da CLT).`, guia: `Recurso na fase de execuÃ§Ã£o.` },
        'ai': { 1: `AO JUÃZO DA ... VARA DO TRABALHO...\n\nAGRAVO DE INSTRUMENTO\n\nDestrancar recurso (Art. 897, 'b' CLT).`, guia: `DepÃ³sito recursal de 50%.` },
        'rr': { 1: `AO EGRÃ‰GIO TRIBUNAL REGIONAL DO TRABALHO...\n\nRECURSO DE REVISTA\n\nArt. 896 CLT.`, guia: `Exige prÃ©-questionamento.` },
        'epe': { 1: `AO JUÃZO DA ... VARA DO TRABALHO...\n\nEXCEÃ‡ÃƒO DE PRÃ‰-EXECUTIVIDADE\n\nMatÃ©rias de ordem pÃºblica.`, guia: `Sem garantia do juÃ­zo.` },
        'ms': { 1: `AO EGRÃ‰GIO TRIBUNAL REGIONAL DO TRABALHO...\n\nMANDADO DE SEGURANÃ‡A\n\nLei 12.016/09.`, guia: `Direito lÃ­quido e certo.` },
        'ar': { 1: `AO EGRÃ‰GIO TRIBUNAL REGIONAL DO TRABALHO...\n\nAÃ‡ÃƒO RESCISÃ“RIA\n\nArt. 966 CPC.`, guia: `Prazo de 2 anos.` },
        'inquerito': { 1: `AO JUÃZO DA ... VARA DO TRABALHO...\n\nINQUÃ‰RITO PARA APURAÃ‡ÃƒO DE FALTA GRAVE\n\nArt. 853 CLT.`, guia: `Empregado estÃ¡vel.` },
        'cautelar': { 1: `AO JUÃZO DA ... VARA DO TRABALHO...\n\nMEDIDA CAUTELAR\n\nArt. 300 CPC.`, guia: `UrgÃªncia e probabilidade.` },
        'replica': { 1: `AO JUÃZO DA ... VARA DO TRABALHO...\n\nRÃ‰PLICA Ã€ CONTESTAÃ‡ÃƒO...`, guia: `Combater preliminares.` },
        'rade': { 1: `AO JUÃZO DA ... VARA DO TRABALHO...\n\nRECURSO ADESIVO\n\nArt. 997 CPC.`, guia: `Prazo das contrarrazÃµes.` },
        'emb_tst': { 1: `AO TRIBUNAL SUPERIOR DO TRABALHO...\n\nEMBARGOS AO TST\n\nArt. 894, II CLT.`, guia: `DivergÃªncia interna no TST.` },
        're_stf': { 1: `AO TRIBUNAL SUPERIOR DO TRABALHO...\n\nRECURSO EXTRAORDINÃRIO\n\nArt. 102, III CF.`, guia: `RepercussÃ£o geral.` },
        'emb_terc': { 1: `AO JUÃZO DA ... VARA DO TRABALHO...\n\nEMBARGOS DE TERCEIRO\n\nArt. 674 CPC.`, guia: `Posse ou propriedade de terceiro.` }
    };

    const pecasMenu = {
        'rt': '1. ReclamaÃ§Ã£o Trabalhista', 'consigna': '2. ConsignaÃ§Ã£o em Pagamento', 'cont': '3. ContestaÃ§Ã£o',
        'emb_exec': '4. Embargos Ã  ExecuÃ§Ã£o', 'ro': '5. Recurso OrdinÃ¡rio', 'ed': '6. Embargos de DeclaraÃ§Ã£o',
        'ap': '7. Agravo de PetiÃ§Ã£o', 'ai': '8. Agravo de Instrumento', 'rr': '9. Recurso de Revista',
        'epe': '10. ExceÃ§Ã£o PrÃ©-Executividade', 'ms': '11. Mandado de SeguranÃ§a', 'ar': '12. AÃ§Ã£o RescisÃ³ria',
        'inquerito': '13. InquÃ©rito Falta Grave', 'cautelar': '14. Medida Cautelar', 'replica': '15. RÃ©plica',
        'rade': '16. Recurso Adesivo', 'emb_tst': '17. Embargos ao TST', 're_stf': '18. Recurso ExtraordinÃ¡rio',
        'emb_terc': '19. Embargos de Terceiro'
    };

    function liberar() {
        document.getElementById('login-screen').style.display = 'none';
        document.getElementById('main-app').style.display = 'flex';
        montarMenu();
    }

    function montarMenu() {
        let h = '';
        Object.keys(pecasMenu).forEach(k => {
            h += `<button class="nav-btn" id="btn_${k}" onclick="loadPeca('${k}')">${pecasMenu[k]}</button>`;
        });
        document.getElementById('menuLateral').innerHTML = h;
    }

    function loadPeca(key) {
        const dados = dbGabaritos[key];
        document.getElementById('joaquim').innerHTML = `
            <button class="copy-btn" onclick="copyText()">COPIAR MINHA PETIÃ‡ÃƒO</button>
            <div class="gabarito-panel">
                <button class="gab-btn" onclick="toggleElement('gab_content')">ðŸ“– Ver Gabarito Completo</button>
                <div id="gab_content" class="gab-content">${dados[1]}</div>
                <button class="guia-btn" onclick="toggleElement('guia_content')">ðŸ’¡ DICAS DE MENTORIA</button>
                <div id="guia_content" class="guia-content">${dados.guia}</div>
            </div>
            <div id="texto-final" contenteditable="true">f5071219\n\n(Escreva sua peÃ§a aqui...)</div>
        `;
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('btn_' + key).classList.add('active');
    }

    function toggleElement(id) {
        const el = document.getElementById(id);
        el.style.display = el.style.display === 'block' ? 'none' : 'block';
    }

    function copyText() {
        const t = document.getElementById('texto-final').innerText;
        navigator.clipboard.writeText(t).then(() => alert("Copiado!"));
    }
</script>
</body>
</html>

