<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ambiente de Estudos OAB - FGV Style</title>
    <style>
        :root {
            --fgv-yellow: #fff9c4;
            --fgv-blue: #0d47a1;
            --paper-white: #ffffff;
            --postit-blue: #b3e5fc;
        }

        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f0f0f0;
            margin: 0;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 800px;
            background: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 20px;
            border-radius: 8px;
        }

        /* Menu de Funcionalidades */
        .dashboard-nav {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .btn-nav {
            background-color: var(--fgv-blue);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.8em;
            text-transform: uppercase;
        }

        /* Se√ß√£o de Intelig√™ncia */
        .ai-selector {
            background-color: #e3f2fd;
            padding: 15px;
            border-left: 5px solid var(--fgv-blue);
            margin-bottom: 20px;
        }

        textarea {
            width: 100%;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 10px;
            box-sizing: border-box;
            font-family: sans-serif;
        }

        /* Folha de Resposta Estilo FGV */
        .answer-sheet {
            background-color: var(--paper-white);
            border: 2px solid #333;
            padding: 40px 20px;
            position: relative;
            background-image: linear-gradient(#e5e5e5 1px, transparent 1px);
            background-size: 100% 1.5em;
            line-height: 1.5em;
        }

        .fgv-header {
            text-align: center;
            font-family: sans-serif;
            font-weight: bold;
            border-bottom: 2px solid #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
        }

        .answer-area {
            background: transparent;
            border: none;
            width: 100%;
            height: 500px;
            resize: none;
            line-height: 1.5em;
            outline: none;
            font-family: 'Courier New', Courier, monospace;
            font-size: 16px;
        }

        /* Post-its e Dicas */
        .post-it-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        .post-it {
            background-color: var(--fgv-yellow);
            padding: 15px;
            box-shadow: 3px 3px 5px rgba(0,0,0,0.2);
            transform: rotate(-1deg);
            min-height: 120px;
            font-size: 0.9em;
        }

        .sosary-box {
            background-color: var(--postit-blue);
            border: 1px dashed #0288d1;
            transform: rotate(1deg);
        }

        /* Modais */
        .modal {
            display: none;
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 90%; max-height: 70vh;
            background: white; border: 2px solid var(--fgv-blue);
            z-index: 1000; padding: 20px; overflow-y: auto;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
        }

        .btn-save {
            background-color: #2e7d32;
            color: white;
            font-weight: bold;
            margin-top: 20px;
        }

        @media (max-width: 600px) {
            .post-it-area { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="dashboard-nav">
        <button class="btn-nav" onclick="abrirModal('pecas')">üìÅ Pe√ßas/PDFs</button>
        <button class="btn-nav" onclick="abrirModal('questoes')">‚ùì Quest√µes OAB</button>
        <button class="btn-nav" onclick="abrirModal('teses')">üìö Teses/Assunto</button>
        <button class="btn-nav" onclick="alert('SOSARY:\nS - Sujeitos\nO - Objeto\nS - Socorro (Art/S√∫mula)\nA - Artigo\nR - Rito\nY - Yeap (Conclus√£o)')">üÜò SOSARY</button>
    </div>

    <h2>üß† Intelig√™ncia de Identifica√ß√£o</h2>
    <div class="ai-selector">
        <label><b>Historinha / Enunciado:</b></label>
        <textarea id="storyInput" rows="4" placeholder="Cole o texto aqui..."></textarea>
        <button onclick="identificarPeca()">Identificar Pe√ßa e Teses</button>
        <div id="resultadoIA" style="margin-top:10px; font-weight:bold; color: #0d47a1;"></div>
    </div>

    <hr>

    <div class="answer-sheet" id="folhaResposta">
        <div class="fgv-header">EXAME DE ORDEM UNIFICADO - FGV</div>
        <textarea id="campoResposta" class="answer-area" placeholder="Inicie sua resposta aqui..."></textarea>
    </div>

    <div class="post-it-area">
        <div class="post-it" contenteditable="true" id="postItTeses">
            üìå <b>Post-it de Teses:</b><br>
            - Clique aqui para editar<br>
            - Art. <br>
        </div>
        <div class="post-it sosary-box" id="boxDocumentos">
            üìÑ <b>PDF/Documentos:</b><br>
            Selecione uma pe√ßa acima para carregar o link.
        </div>
    </div>

    <button onclick="salvarProgresso()" class="btn-save">üíæ Salvar Estudo desta Pe√ßa</button>
</div>

<div id="modalContainer" class="modal">
    <h3 id="modalTitle">Op√ß√µes</h3>
    <div id="modalList"></div>
    <button onclick="fecharModal()" style="background:#666">Fechar</button>
</div>

<script>
    const database = {
        pecas: [
            { t: "XXXVIII - Apela√ß√£o C√≠vel", e: "Jo√£o foi condenado ao pagamento...", pdf: "https://oab.fgv.br/", teses: "Art. 1.009 CPC; Cerceamento de defesa." },
            { t: "XXXVII - Contesta√ß√£o (Trabalho)", e: "Empresa X foi citada em Reclamat√≥ria...", pdf: "https://oab.fgv.br/", teses: "Art. 847 CLT; Horas Extras." }
        ],
        questoes: [
            { t: "Quest√£o 1 - Dir. Penal", e: "M√°rio cometeu crime de furto...", pdf: "#", teses: "Art. 155 CP; Princ√≠pio da Insignific√¢ncia." }
        ],
        teses: [
            { t: "C√≠vel: Alimentos", e: "Revisional de alimentos...", pdf: "#", teses: "Art. 1.694 CC; Bin√¥mio Necessidade-Possibilidade." }
        ]
    };

    function abrirModal(tipo) {
        const modal = document.getElementById('modalContainer');
        const lista = document.getElementById('modalList');
        document.getElementById('modalTitle').innerText = tipo.toUpperCase();
        lista.innerHTML = "";
        
        database[tipo].forEach(item => {
            let div = document.createElement('div');
            div.style.padding = "10px"; div.style.borderBottom = "1px solid #ddd"; div.style.cursor = "pointer";
            div.innerHTML = `<b>${item.t}</b>`;
            div.onclick = () => {
                document.getElementById('storyInput').value = item.e;
                document.getElementById('postItTeses').innerHTML = `üìå <b>Teses:</b><br>${item.teses}`;
                document.getElementById('boxDocumentos').innerHTML = `üìÑ <b>PDF:</b><br><a href="${item.pdf}" target="_blank">Abrir PDF Oficial</a>`;
                fecharModal();
            };
            lista.appendChild(div);
        });
        modal.style.display = "block";
    }

    function fecharModal() { document.getElementById('modalContainer').style.display = "none"; }

    function identificarPeca() {
        const texto = document.getElementById('storyInput').value.toLowerCase();
        let r = "Analisando... ";
        if (texto.includes("senten√ßa")) r = "‚öñÔ∏è CABIMENTO: APELA√á√ÉO.";
        else if (texto.includes("citada") || texto.includes("reclamada")) r = "üìù CABIMENTO: CONTESTA√á√ÉO.";
        else r = "üîç Sugest√£o: Analise o √∫ltimo ato processual.";
        document.getElementById('resultadoIA').innerText = r;
    }

    function salvarProgresso() {
        const dados = {
            resposta: document.getElementById('campoResposta').value,
            postit: document.getElementById('postItTeses').innerHTML,
            enunciado: document.getElementById('storyInput').value,
            doc: document.getElementById('boxDocumentos').innerHTML
        };
        localStorage.setItem('oab_completo_v1', JSON.stringify(dados));
        alert("Salvo com sucesso!");
    }

    window.onload = () => {
        const salvo = JSON.parse(localStorage.getItem('oab_completo_v1'));
        if(salvo) {
            document.getElementById('campoResposta').value = salvo.resposta;
            document.getElementById('postItTeses').innerHTML = salvo.postit;
            document.getElementById('storyInput').value = salvo.enunciado;
            document.getElementById('boxDocumentos').innerHTML = salvo.doc;
        }
    };
</script>

</body>
</html>
