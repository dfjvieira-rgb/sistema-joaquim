<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ambiente de Estudos OAB - FGV Style</title>
    <style>
        :root {
            --fgv-yellow: #fff9c4;
            --fgv-blue: #0d47a1;
            --paper-white: #ffffff;
        }

        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f0f0f0;
            margin: 0;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Container Principal Mobile Friendly */
        .container {
            width: 100%;
            max-width: 800px;
            background: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 20px;
            border-radius: 8px;
        }

        /* Se√ß√£o de Intelig√™ncia: Historinhas */
        .ai-selector {
            background-color: #e3f2fd;
            padding: 15px;
            border-left: 5px solid var(--fgv-blue);
            margin-bottom: 20px;
        }

        textarea {
            width: 100%;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 10px;
            box-sizing: border-box;
            font-family: sans-serif;
        }

        /* Folha de Resposta Estilo FGV */
        .answer-sheet {
            background-color: var(--paper-white);
            border: 2px solid #333;
            padding: 40px 20px;
            position: relative;
            background-image: linear-gradient(#e5e5e5 1px, transparent 1px);
            background-size: 100% 1.5em;
            line-height: 1.5em;
        }

        .line-number {
            position: absolute;
            left: 5px;
            font-size: 0.8em;
            color: #999;
            text-align: right;
            width: 25px;
            user-select: none;
        }

        /* Post-its e Dicas */
        .post-it-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        .post-it {
            background-color: #ffeb3b;
            padding: 10px;
            box-shadow: 3px 3px 5px rgba(0,0,0,0.2);
            transform: rotate(-1deg);
            min-height: 100px;
            font-size: 0.9em;
        }

        .dica-mental {
            background-color: #b3e5fc;
            padding: 10px;
            border-radius: 5px;
            border: 1px dashed #0288d1;
        }

        button {
            background-color: var(--fgv-blue);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            width: 100%;
        }

        @media (max-width: 600px) {
            .post-it-area { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<div class="container">
    <h2>üß† Intelig√™ncia de Identifica√ß√£o</h2>
    <div class="ai-selector">
        <label><b>Cole o enunciado (Historinha) aqui:</b></label>
        <textarea id="storyInput" rows="5" placeholder="Ex: Jo√£o foi citado em uma a√ß√£o de cobran√ßa..."></textarea>
        <button onclick="identificarPeca()">Identificar Pe√ßa e Teses</button>
        <div id="resultadoIA" style="margin-top:10px; font-weight:bold; color: #0d47a1;"></div>
    </div>

    <hr>

    <h2>üìù Simulador de Prova (FGV Style)</h2>
    <div style="margin-bottom: 10px;">
        <select id="tipoProva">
            <option value="peca">Pe√ßa Pr√°tica (150 linhas)</option>
            <option value="questao">Quest√£o Discursiva (30 linhas)</option>
        </select>
    </div>

    <div class="answer-sheet" id="folhaResposta">
        <textarea style="background:transparent; border:none; width:100%; height: 600px; resize:none; line-height: 1.5em; outline:none;" placeholder="Inicie sua resposta aqui..."></textarea>
    </div>

    <div class="post-it-area">
        <div class="post-it" contenteditable="true" id="postItDicas">
            üìå <b>Post-it de Teses:</b><br>
            - Art. <br>
            - S√∫mula
        </div>
        <div class="dica-mental" id="dicaResolucao">
            üí° <b>Dica de Resolu√ß√£o:</b><br>
            Lembre-se sempre de endere√ßar ao ju√≠zo correto e verificar a tempestividade!
        </div>
    </div>

    <button onclick="salvarProgresso()" style="background-color: #2e7d32; margin-top: 20px;">üíæ Salvar Estudo desta Pe√ßa</button>
</div>

<script>
    // Fun√ß√£o para simular a IA de identifica√ß√£o
    function identificarPeca() {
        const texto = document.getElementById('storyInput').value.toLowerCase();
        let resposta = "Analisando elementos... ";

        if (texto.includes("liminar") || texto.includes("urg√™ncia") || texto.includes("autoridade")) {
            resposta = "üö® Poss√≠vel Mandado de Seguran√ßa ou Tutela de Urg√™ncia.";
        } else if (texto.includes("senten√ßa") || texto.includes("decis√£o terminativa")) {
            resposta = "‚öñÔ∏è Cabimento de Apela√ß√£o ou Recurso Ordin√°rio.";
        } else {
            resposta = "üîç Analise o √∫ltimo ato processual para definir a pe√ßa.";
        }
        
        document.getElementById('resultadoIA').innerText = resposta;
    }

    // Salva o conte√∫do localmente (LocalStorage)
    function salvarProgresso() {
        const conteudo = document.querySelector('.answer-sheet textarea').value;
        const postit = document.getElementById('postItDicas').innerHTML;
        localStorage.setItem('ultimoEstudo', conteudo);
        localStorage.setItem('ultimoPostIt', postit);
        alert("Progresso salvo com sucesso!");
    }

    // Carregar dados ao abrir
    window.onload = () => {
        if(localStorage.getItem('ultimoEstudo')) {
            document.querySelector('.answer-sheet textarea').value = localStorage.getItem('ultimoEstudo');
            document.getElementById('postItDicas').innerHTML = localStorage.getItem('ultimoPostIt');
        }
    };
</script>

</body>
</html>
