<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-status-bar-style" content="black-translucent">
    <title>JOAQUIM PRO 2026</title>
    <style>
        :root { --primary: #1a252f; --accent: #f1c40f; --bg: #f8f9fa; --header-h: 65px; --nav-h: 75px; }
        
        /* Reset Geral */
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body { font-family: -apple-system, system-ui, sans-serif; background: var(--bg); height: 100vh; overflow: hidden; display: flex; flex-direction: column; }

        /* Header Estilo App */
        header { background: var(--primary); color: white; height: var(--header-h); padding: 0 20px; display: flex; justify-content: space-between; align-items: center; z-index: 1000; box-shadow: 0 2px 8px rgba(0,0,0,0.2); }
        .timer { font-family: 'Courier New', monospace; color: var(--accent); font-weight: bold; font-size: 1.2rem; }

        /* Menu Lateral (Drawer) */
        .drawer { position: fixed; top: 0; left: -100%; width: 300px; height: 100%; background: white; z-index: 2000; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 5px 0 25px rgba(0,0,0,0.3); overflow-y: auto; }
        .drawer.open { left: 0; }
        .drawer-header { background: var(--primary); color: white; padding: 40px 20px; font-size: 1.2rem; font-weight: bold; }
        .drawer-section { background: #f1f1f1; padding: 10px 20px; font-size: 0.7rem; font-weight: 800; color: #666; text-transform: uppercase; }
        .drawer-item { padding: 18px 20px; border-bottom: 1px solid #eee; cursor: pointer; font-size: 0.95rem; color: #333; }
        .drawer-item:active { background: #e9ecef; }

        /* Controles de Estudo */
        .top-controls { background: #dfe6e9; padding: 12px; border-bottom: 1px solid #ccc; flex-shrink: 0; }
        .exame-selector { width: 100%; height: 48px; padding: 0 12px; border-radius: 8px; border: 2px solid var(--primary); font-weight: bold; font-size: 1rem; margin-bottom: 10px; background: white; appearance: none; }
        .toolbar { display: flex; gap: 8px; overflow-x: auto; padding-bottom: 4px; scrollbar-width: none; }
        .toolbar::-webkit-scrollbar { display: none; }
        .btn-sym { background: white; border: 1px solid #b2bec3; height: 44px; min-width: 55px; border-radius: 6px; font-weight: bold; font-size: 1.1rem; flex-shrink: 0; cursor: pointer; }

        /* Workspace Din√¢mico */
        .workspace { flex: 1; display: flex; overflow: hidden; position: relative; }
        .col { flex: 1; display: flex; flex-direction: column; background: white; }

        /* Regras de Responsividade (iPad Vertical e Celular) */
        @media (max-width: 1024px) {
            .col { position: absolute; inset: 0; z-index: 1; opacity: 0; pointer-events: none; transition: 0.25s; }
            .col.active { opacity: 1; pointer-events: all; z-index: 2; }
            
            .mobile-nav { display: flex; height: var(--nav-h); background: var(--primary); border-top: 3px solid var(--accent); padding-bottom: env(safe-area-inset-bottom); }
            .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #95a5a6; font-size: 0.75rem; font-weight: bold; }
            .nav-item.active { color: var(--accent); background: rgba(255,255,255,0.05); }
        }

        /* Regras para Desktop e iPad Horizontal */
        @media (min-width: 1025px) {
            .mobile-nav { display: none; }
            .col-respostas { border-right: 3px solid #ddd; flex: 1.2; }
            .col-apoio { flex: 1; }
        }

        /* Folha de Resposta OAB */
        .paper { flex: 1; display: flex; overflow-y: auto; background-image: linear-gradient(#e1e1e1 1px, transparent 1px); background-size: 100% 28px; background-attachment: local; }
        .line-nums { width: 45px; background: #f8f9fa; border-right: 1px solid #ddd; text-align: center; color: #bbb; font-size: 12px; line-height: 28px; padding-top: 28px; }
        textarea { flex: 1; padding: 28px 20px; border: none; outline: none; resize: none; font-family: 'Georgia', serif; font-size: 19px; line-height: 28px; background: transparent; color: #2c3e50; }

        /* PDF Viewer Control */
        .pdf-nav { display: flex; background: #222; padding: 6px; gap: 6px; }
        .pdf-btn { flex: 1; border: none; background: #444; color: white; height: 45px; font-size: 0.8rem; font-weight: bold; border-radius: 6px; cursor: pointer; text-transform: uppercase; }
        .pdf-btn.active { background: var(--accent); color: var(--primary); }

        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 1500; display: none; backdrop-filter: blur(2px); }
        .overlay.active { display: block; }
    </style>
</head>
<body>

<div class="overlay" id="overlay" onclick="toggleMenu()"></div>

<header>
    <div onclick="toggleMenu()" style="cursor:pointer; font-weight: bold; padding: 10px;">‚ò∞ MENU</div>
    <div style="font-weight: 800; letter-spacing: -1px;">JOAQUIM <span style="color:var(--accent)">PRO</span></div>
    <div class="timer" id="timer">05:00:00</div>
</header>

<nav class="drawer" id="drawer">
    <div class="drawer-header">ESTUDO ARYANNA</div>
    <div class="drawer-section">Modelos de Pe√ßa</div>
    <div class="drawer-item" onclick="inserirModelo('rt')">üìÑ Reclama√ß√£o (Art. 840)</div>
    <div class="drawer-item" onclick="inserirModelo('contestacao')">üìÑ Contesta√ß√£o (Art. 847)</div>
    <div class="drawer-item" onclick="inserirModelo('ro')">üìÑ Recurso Ordin√°rio (Art. 895)</div>
    
    <div class="drawer-section">Atalhos Apostila</div>
    <div class="drawer-item" onclick="irParaAssunto('Peti√ß√£o Inicial', 5)">üìñ Peti√ß√£o Inicial</div>
    <div class="drawer-item" onclick="irParaAssunto('Recursos', 112)">üìñ Recursos</div>
    <div class="drawer-item" onclick="irParaAssunto('Estabilidades', 145)">üìñ Estabilidades</div>
</nav>

<div class="top-controls">
    <select class="exame-selector" id="select-exame" onchange="selecionarExame()">
        <option value="">Selecione o Exame (35 ao 44)</option>
        <option value="35">35¬∫ Exame Unificado</option>
        <option value="36">36¬∫ Exame Unificado</option>
        <option value="37">37¬∫ Exame Unificado</option>
        <option value="38">38¬∫ Exame Unificado</option>
        <option value="39">39¬∫ Exame Unificado</option>
        <option value="40">40¬∫ Exame Unificado</option>
        <option value="41">41¬∫ Exame Unificado</option>
        <option value="42">42¬∫ Exame Unificado</option>
        <option value="43">43¬∫ Exame Unificado</option>
        <option value="44">44¬∫ Exame Unificado</option>
    </select>
    <div class="toolbar">
        <button class="btn-sym" onclick="insertSym('¬ß')">¬ß</button>
        <button class="btn-sym" onclick="insertSym('Art. ')">Art.</button>
        <button class="btn-sym" onclick="insertSym('CLT')">CLT</button>
        <button class="btn-sym" onclick="insertSym('TST')">TST</button>
        <button class="btn-sym" onclick="insertSym('OJ ')">OJ</button>
        <button class="btn-sym" style="background:#ff7675; color:white; border:none;" onclick="limparCaderno()">üóëÔ∏è</button>
    </div>
</div>

<main class="workspace">
    <section class="col col-respostas active" id="aba-resposta">
        <div style="background:#eee; padding:8px 15px; font-size:0.7rem; font-weight:bold; display:flex; justify-content:space-between; border-bottom:1px solid #ddd;">
            <span>FOLHA DE RESPOSTA</span><span id="l-main">LINHA: 1</span>
        </div>
        <div class="paper">
            <div class="line-nums" id="n-main"></div>
            <textarea id="area-main" oninput="save()" placeholder="Comece sua reda√ß√£o aqui..."></textarea>
        </div>
    </section>

    <section class="col col-apoio" id="aba-apoio">
        <div class="pdf-nav">
            <button class="pdf-btn active" id="btn-apostila" onclick="alternarVisao('apostila')">Apostila</button>
            <button class="pdf-btn" id="btn-prova" onclick="alternarVisao('prova')">Prova</button>
            <button class="pdf-btn" id="btn-gabarito" onclick="alternarVisao('gab')">Gabarito</button>
        </div>
        <iframe id="f-pdf" src="./Aryanna Linhares.pdf" style="flex:1; border:none; background:white;"></iframe>
    </section>
</main>

<nav class="mobile-nav">
    <div class="nav-item active" id="nav-res" onclick="switchTab('res')">‚úçÔ∏è ESCREVER</div>
    <div class="nav-item" id="nav-apo" onclick="switchTab('apo')">üìñ LER (PDF)</div>
</nav>

<script>
    const $ = (id) => document.getElementById(id);
    
    // Gerador de Linhas
    const gen = (el) => { 
        el.innerHTML = "";
        for(let i=1; i<=150; i++) el.innerHTML += i + '<br>'; 
    };
    gen($('n-main'));

    let arquivosAtuais = { apostila: './Aryanna Linhares.pdf', prova: '', gab: '' };

    // Troca de Abas (iPad/Mobile)
    function switchTab(tab) {
        if(window.innerWidth > 1024) return; // N√£o faz nada no PC
        
        $('aba-resposta').classList.remove('active');
        $('aba-apoio').classList.remove('active');
        $('nav-res').classList.remove('active');
        $('nav-apo').classList.remove('active');

        if(tab === 'res') {
            $('aba-resposta').classList.add('active');
            $('nav-res').classList.add('active');
        } else {
            $('aba-apoio').classList.add('active');
            $('nav-apo').classList.add('active');
        }
    }

    // Sele√ß√£o de Exame OAB
    function selecionarExame() {
        const e = $('select-exame').value;
        if(e !== "") {
            arquivosAtuais.prova = `./prova${e}.pdf`;
            arquivosAtuais.gab = `./gabarito${e}.pdf`;
            alternarVisao('prova');
            if(window.innerWidth <= 1024) switchTab('apo');
        }
    }

    // Alternar PDF (Apostila/Prova/Gabarito)
    function alternarVisao(tipo) {
        let url = tipo === 'apostila' ? arquivosAtuais.apostila : 
                  tipo === 'prova' ? (arquivosAtuais.prova || arquivosAtuais.apostila) : 
                  (arquivosAtuais.gab || arquivosAtuais.apostila);
        
        $('f-pdf').src = url;
        document.querySelectorAll('.pdf-btn').forEach(b => b.classList.remove('active'));
        
        let btnId = tipo === 'gab' ? 'btn-gabarito' : `btn-${tipo}`;
        if($(btnId)) $(btnId).classList.add('active');
    }

    // Menu e Fun√ß√µes Auxiliares
    function toggleMenu() { $('drawer').classList.toggle('open'); $('overlay').classList.toggle('active'); }
    
    function irParaAssunto(nome, pagina) {
        alternarVisao('apostila');
        $('f-pdf').src = `./Aryanna Linhares.pdf#page=${pagina}`;
        toggleMenu();
        if(window.innerWidth <= 1024) switchTab('apo');
    }

    function insertSym(s) {
        const a = $('area-main');
        const start = a.selectionStart;
        a.value = a.value.slice(0, start) + s + a.value.slice(a.selectionEnd);
        a.focus();
        a.setSelectionRange(start + s.length, start + s.length);
        save();
    }

    function inserirModelo(t) {
        const m = {
            rt: `AO DOUTO JU√çZO DA ____ VARA DO TRABALHO DE ____\n\nRECLAMANTE, j√° qualificado...`,
            contestacao: `AO DOUTO JU√çZO DA ____ VARA DO TRABALHO DE ____\n\nProcesso n¬∫ ____\n\nRECLAMADA, j√° qualificada...`,
            ro: `AO DOUTO JU√çZO DA ____ VARA DO TRABALHO DE ____\n\nProcesso n¬∫ ____\n\nRECORRENTE, j√° qualificado...`
        };
        if(confirm("Deseja carregar o esqueleto desta pe√ßa?")) {
            $('area-main').value = m[t];
            save();
            toggleMenu();
            if(window.innerWidth <= 1024) switchTab('res');
        }
    }

    function limparCaderno() { if(confirm("Aten√ß√£o: Isso apagar√° todo o seu texto. Continuar?")) { $('area-main').value = ""; save(); } }

    // Persist√™ncia de Dados
    function save() { 
        try {
            localStorage.setItem('j_2026_data', $('area-main').value); 
            $('l-main').innerText = "LINHA: " + $('area-main').value.split('\n').length; 
        } catch(e) { console.log("Erro ao salvar"); }
    }

    window.onload = () => { 
        $('area-main').value = localStorage.getItem('j_2026_data') || ""; 
        save(); 
    };

    // Cron√¥metro
    let tempo = 18000;
    setInterval(() => { 
        if(tempo > 0) { 
            tempo--; 
            let h = Math.floor(tempo/3600), m = Math.floor((tempo%3600)/60), s = tempo%60; 
            $('timer').innerText = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`; 
        } 
    }, 1000);
</script>
</body>
</html>
