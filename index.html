<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>JOAQUIM PRO - MODO AULA</title>
    <style>
        :root { 
            --primary: #1a252f; --accent: #f1c40f; --bg: #f8f9fa; 
            --header-h: 60px; --drawer-w: 280px; --blue: #3498db;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); height: 100vh; overflow: hidden; display: flex; flex-direction: column; }

        header { background: var(--primary); color: white; height: var(--header-h); padding: 0 15px; display: flex; justify-content: space-between; align-items: center; z-index: 1000; }
        
        /* LAYOUT TRI-COLUNA (CADERNO | DICAS | PDF) */
        .main-workspace { display: flex; flex: 1; overflow: hidden; width: 100vw; }

        /* COLUNA 1: CADERNO DE RESPOSTA (OAB) */
        .col-respostas { flex: 1; display: flex; flex-direction: column; background: white; border-right: 2px solid #ddd; min-width: 400px; }
        
        /* COLUNA 2: CADERNO DE DICAS (AULA) */
        .col-dicas { flex: 0.6; display: flex; flex-direction: column; background: #fffde7; border-right: 2px solid #ddd; transition: 0.3s; }
        
        /* COLUNA 3: APOIO (PDF) */
        .col-apoio { flex: 0.9; background: #525659; display: flex; flex-direction: column; }

        /* ESTILO DO PAPEL PAUTADO */
        .paper { flex: 1; display: flex; overflow-y: auto; background-image: linear-gradient(#e1e1e1 1px, transparent 1px); background-size: 100% 25px; background-attachment: local; }
        .line-nums { width: 40px; background: #f8f9fa; border-right: 1px solid #ddd; text-align: center; color: #bbb; font-size: 11px; line-height: 25px; padding-top: 25px; }
        
        textarea { flex: 1; padding: 25px; border: none; outline: none; resize: none; font-family: 'Times New Roman', serif; font-size: 18px; line-height: 25px; background: transparent; }
        
        /* CABEÃ‡ALHOS DOS CADERNOS */
        .caderno-header { padding: 8px 15px; font-size: 0.75rem; font-weight: bold; display: flex; justify-content: space-between; align-items: center; color: white; }
        .bg-oab { background: var(--primary); }
        .bg-dicas { background: #f39c12; }

        /* RESPONSIVIDADE MOBILE */
        @media (max-width: 1024px) {
            .main-workspace { flex-direction: column; overflow-y: auto; }
            .col-respostas, .col-dicas, .col-apoio { flex: none; width: 100%; height: 500px; }
        }

        /* MENU LATERAL */
        .drawer { position: fixed; top: 0; left: -100%; width: var(--drawer-w); height: 100%; background: white; z-index: 2000; transition: 0.3s; box-shadow: 5px 0 15px rgba(0,0,0,0.2); }
        .drawer.open { left: 0; }
        .drawer-item { padding: 15px 20px; border-bottom: 1px solid #eee; cursor: pointer; }
        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 1500; display: none; }
        .overlay.active { display: block; }
    </style>
</head>
<body>

<div class="overlay" id="overlay" onclick="toggleMenu()"></div>

<header>
    <div onclick="toggleMenu()" style="cursor:pointer; font-size: 1.5rem;">â˜°</div>
    <div style="font-weight:bold;">JOAQUIM <span style="color:var(--accent)">PRO</span></div>
    <div id="timer" style="font-family: monospace;">05:00:00</div>
</header>

<nav class="drawer" id="drawer">
    <div style="background:var(--primary); color:white; padding:30px 20px;"><b>Caderno Aryanna Linhares</b></div>
    <div class="drawer-item" onclick="showView('treino')">ðŸ“š Treinar PeÃ§a</div>
    <div class="drawer-item" onclick="showView('estruturas')">ðŸ“‘ Gerar Estruturas</div>
    <div class="drawer-item" onclick="alert('Dicas salvas automaticamente!')">ðŸ’¾ Salvar Cadernos</div>
</nav>

<main class="main-workspace">
    
    <section class="col-respostas">
        <div class="caderno-header bg-oab">
            <span>FOLHA DE RESPOSTA (150 LINHAS)</span>
            <span id="line-count">Linha: 1 / 150</span>
        </div>
        <div class="paper">
            <div class="line-nums" id="ln-res"></div>
            <textarea id="area-peca" oninput="sync()" placeholder="Escreva sua peÃ§a aqui..."></textarea>
        </div>
    </section>

    <section class="col-dicas" id="col-dicas">
        <div class="caderno-header bg-dicas">
            <span>ðŸ’¡ DICAS DA PROFESSORA / RASCUNHO</span>
            <button onclick="toggleDicas()" style="background:none; border:none; color:white; font-size:10px; cursor:pointer;">Minimizar</button>
        </div>
        <div class="paper" style="background-image: linear-gradient(#fff9c4 1px, transparent 1px);">
            <div class="line-nums" style="background:#fffde7;">â€¢</div>
            <textarea id="area-dicas" oninput="saveDicas()" placeholder="Anote aqui as dicas da Aryanna:
- Cuidado com o Art. 840!
- NÃ£o esquecer honorÃ¡rios..."></textarea>
        </div>
    </section>

    <section class="col-apoio">
        <div style="background:#333; display:flex;">
            <button class="drawer-item" style="flex:1; color:white; padding:5px; font-size:10px;" onclick="document.getElementById('f-pdf').src='./ro35.pdf'">PROVA</button>
            <button class="drawer-item" style="flex:1; color:white; padding:5px; font-size:10px;" onclick="document.getElementById('f-pdf').src='./Aryanna Linhares.pdf'">APOSTILA</button>
        </div>
        <iframe id="f-pdf" style="flex:1; border:none; background:white;"></iframe>
    </section>

</main>

<script>
    // Gerar numeraÃ§Ã£o
    const lnRes = document.getElementById('ln-res');
    for(let i=1; i<=150; i++) lnRes.innerHTML += i + '<br>';

    function toggleMenu() {
        document.getElementById('drawer').classList.toggle('open');
        document.getElementById('overlay').classList.toggle('active');
    }

    function toggleDicas() {
        const col = document.getElementById('col-dicas');
        col.style.display = col.style.display === 'none' ? 'flex' : 'none';
    }

    function sync() {
        const lines = document.getElementById('area-peca').value.split('\n').length;
        document.getElementById('line-count').innerText = `Linha: ${lines} / 150`;
        localStorage.setItem('joaquim_peca_txt', document.getElementById('area-peca').value);
    }

    function saveDicas() {
        localStorage.setItem('joaquim_dicas_txt', document.getElementById('area-dicas').value);
    }

    // Carregar dados salvos ao abrir
    window.onload = () => {
        document.getElementById('area-peca').value = localStorage.getItem('joaquim_peca_txt') || "";
        document.getElementById('area-dicas').value = localStorage.getItem('joaquim_dicas_txt') || "";
        sync();
    };

    // Timer
    let s = 18000;
    setInterval(() => { if(s>0){ s--; let h=Math.floor(s/3600), m=Math.floor((s%3600)/60), sc=s%60; document.getElementById('timer').innerText = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${sc.toString().padStart(2,'0')}`; } }, 1000);
</script>
</body>
</html>
