<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    
    <title>JOAQUIM PRO 2026</title>
    <style>
        :root { --primary: #1a252f; --accent: #f1c40f; --bg: #f8f9fa; --header-h: 65px; }
        
        /* Reset para parecer App */
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; user-select: none; }
        textarea { user-select: text; }
        
        body { font-family: -apple-system, system-ui, sans-serif; background: var(--bg); height: 100vh; overflow: hidden; display: flex; flex-direction: column; }

        header { background: var(--primary); color: white; height: var(--header-h); padding: 20px 15px 10px; display: flex; justify-content: space-between; align-items: center; z-index: 1000; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .timer { font-family: 'Courier New', monospace; color: var(--accent); font-weight: 900; font-size: 1.2rem; }

        /* MENU LATERAL ESTILO APP */
        .drawer { position: fixed; top: 0; left: -100%; width: 85%; max-width: 300px; height: 100%; background: white; z-index: 2000; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 5px 0 25px rgba(0,0,0,0.4); overflow-y: auto; }
        .drawer.open { left: 0; }
        .drawer-header { background: var(--primary); color: white; padding: 40px 20px 20px; font-size: 1.2rem; }
        .drawer-section { background: #f1f1f1; padding: 12px 20px; font-size: 0.75rem; font-weight: 800; color: #555; text-transform: uppercase; letter-spacing: 1px; }
        .drawer-item { padding: 16px 20px; border-bottom: 1px solid #eee; cursor: pointer; color: #333; font-size: 0.95rem; display: flex; align-items: center; transition: 0.2s; }
        .drawer-item:active { background: #e8e8e8; }

        /* PAINEL DE COMANDOS */
        .top-controls { background: #e2e8f0; padding: 12px; border-bottom: 1px solid #cbd5e0; }
        .exame-selector { width: 100%; height: 48px; padding: 0 12px; margin-bottom: 10px; border-radius: 8px; border: 2px solid var(--primary); font-weight: bold; background: white; font-size: 1rem; appearance: none; }
        
        .vade-links { display: flex; gap: 8px; overflow-x: auto; padding-bottom: 12px; scrollbar-width: none; }
        .vade-links::-webkit-scrollbar { display: none; }
        .btn-link { background: #4a5568; color: white; border: none; padding: 10px 16px; border-radius: 6px; font-size: 0.8rem; font-weight: bold; text-decoration: none; white-space: nowrap; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }

        .toolbar { display: flex; gap: 8px; overflow-x: auto; padding-top: 10px; border-top: 1px solid #cbd5e0; }
        .btn-sym { background: white; border: 1px solid #a0aec0; height: 44px; min-width: 60px; border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 1.1rem; color: var(--primary); flex-shrink: 0; }
        .btn-sym:active { background: var(--accent); border-color: var(--primary); }

        /* √ÅREA DE TRABALHO */
        .workspace { display: flex; flex: 1; overflow: hidden; }
        .col { display: flex; flex-direction: column; }
        .col-respostas { flex: 1.3; background: white; border-right: 1px solid #ddd; }
        .col-apoio { flex: 1; background: #2d3748; }

        /* PAPEL PAUTADO */
        .paper { flex: 1; display: flex; overflow-y: auto; background-image: linear-gradient(#e2e2e2 1px, transparent 1px); background-size: 100% 28px; background-attachment: local; }
        .line-nums { width: 40px; background: #edf2f7; border-right: 1px solid #cbd5e0; text-align: center; color: #a0aec0; font-size: 12px; line-height: 28px; padding-top: 28px; }
        textarea { flex: 1; padding: 28px 20px; border: none; outline: none; resize: none; font-family: 'Georgia', serif; font-size: 18px; line-height: 28px; background: transparent; color: #2d3748; }

        /* NAVEGA√á√ÉO PDF APP STYLE */
        .pdf-nav { display: flex; background: #1a202c; padding: 4px; gap: 4px; }
        .pdf-btn { flex: 1; border: none; background: #4a5568; color: #e2e8f0; height: 44px; font-size: 0.75rem; border-radius: 4px; font-weight: bold; transition: 0.3s; }
        .pdf-btn.active { background: var(--accent); color: var(--primary); }

        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 1500; display: none; backdrop-filter: blur(2px); }
        .overlay.active { display: block; }

        /* AJUSTE PARA IPHONE / CELULARES */
        @media (max-width: 1024px) {
            .workspace { flex-direction: column; }
            .col-respostas { height: 65vh; flex: none; }
            .col-apoio { height: 70vh; flex: none; border-top: 4px solid var(--primary); }
            header { padding-top: 30px; height: 85px; } /* Ajuste para notch */
        }
    </style>
</head>
<body>

<div class="overlay" id="overlay" onclick="toggleMenu()"></div>

<header>
    <div onclick="toggleMenu()" style="padding: 10px;">‚ò∞ MENU</div>
    <div style="font-weight: 800; letter-spacing: -1px;">JOAQUIM <span style="color:var(--accent)">PRO</span></div>
    <div class="timer" id="timer">05:00:00</div>
</header>

<nav class="drawer" id="drawer">
    <div class="drawer-header"><b>ESTUDO ARYANNA</b></div>
    
    <div class="drawer-section">PE√áAS MODELO</div>
    <div class="drawer-item" onclick="inserirModelo('rt')">üìÑ Reclama√ß√£o (Art. 840)</div>
    <div class="drawer-item" onclick="inserirModelo('contestacao')">üìÑ Contesta√ß√£o (Art. 847)</div>
    <div class="drawer-item" onclick="inserirModelo('ro')">üìÑ Recurso Ordin√°rio (Art. 895)</div>

    <div class="drawer-section">√çNDICE DA APOSTILA</div>
    <div class="drawer-item" onclick="irParaAssunto('Peti√ß√£o Inicial', 5)">üìñ Peti√ß√£o Inicial</div>
    <div class="drawer-item" onclick="irParaAssunto('Recursos', 112)">üìñ Recursos</div>
    <div class="drawer-item" onclick="irParaAssunto('Estabilidades', 145)">üìñ Estabilidades</div>
    <div class="drawer-item" onclick="irParaAssunto('Justa Causa', 190)">üìñ Justa Causa</div>
</nav>

<main class="view active">
    <div class="top-controls">
        <select class="exame-selector" id="select-exame" onchange="selecionarExame()">
            <option value="">Selecione o Exame (35 ao 44)</option>
            <option value="35">35¬∫ Exame Unificado</option>
            <option value="36">36¬∫ Exame Unificado</option>
            <option value="37">37¬∫ Exame Unificado</option>
            <option value="38">38¬∫ Exame Unificado</option>
            <option value="39">39¬∫ Exame Unificado</option>
            <option value="40">40¬∫ Exame Unificado</option>
            <option value="41">41¬∫ Exame Unificado</option>
            <option value="42">42¬∫ Exame Unificado</option>
            <option value="43">43¬∫ Exame Unificado</option>
            <option value="44">44¬∫ Exame Unificado</option>
        </select>

        <div class="vade-links">
            <a href="https://www.planalto.gov.br/ccivil_03/decreto-lei/del5452.htm" target="_blank" class="btn-link">‚öñÔ∏è CLT</a>
            <a href="https://www.planalto.gov.br/ccivil_03/constituicao/constituicao.htm" target="_blank" class="btn-link">üèõÔ∏è CF/88</a>
            <a href="https://www3.tst.jus.br/jurisprudencia/Sumulas_com_indice/Sumulas_Indice_1_50.html" target="_blank" class="btn-link">üìú S√öMULAS</a>
            <a href="https://www3.tst.jus.br/jurisprudencia/OJ_Indices/index_oj.html" target="_blank" class="btn-link">üí° OJs</a>
        </div>

        <div class="toolbar">
            <button class="btn-sym" onclick="insertSym('¬ß')">¬ß</button>
            <button class="btn-sym" onclick="insertSym('Art. ')">Art.</button>
            <button class="btn-sym" onclick="insertSym('CLT')">CLT</button>
            <button class="btn-sym" onclick="insertSym('TST')">TST</button>
            <button class="btn-sym" onclick="insertSym('OJ ')">OJ</button>
        </div>
    </div>

    <div class="workspace">
        <section class="col col-respostas">
            <div style="background:var(--primary); color:white; padding:6px 15px; font-size:0.7rem; display:flex; justify-content:space-between; font-weight:bold;">
                <span>FOLHA DE RESPOSTA</span><span id="l-main">LINHA: 1</span>
            </div>
            <div class="paper">
                <div class="line-nums" id="n-main"></div>
                <textarea id="area-main" oninput="save()" placeholder="Comece sua pe√ßa aqui..."></textarea>
            </div>
        </section>

        <section class="col col-apoio">
            <div class="pdf-nav">
                <button class="pdf-btn active" id="btn-apostila" onclick="alternarVisao('apostila')">Apostila</button>
                <button class="pdf-btn" id="btn-prova" onclick="alternarVisao('prova')">Prova</button>
                <button class="pdf-btn" id="btn-gabarito" onclick="alternarVisao('gab')">Gabarito</button>
            </div>
            <iframe id="f-pdf" src="./Aryanna Linhares.pdf" style="flex:1; border:none; background:white;"></iframe>
        </section>
    </div>
</main>

<script>
    const $ = (id) => document.getElementById(id);
    const gen = (el) => { for(let i=1; i<=150; i++) el.innerHTML += i + '<br>'; };
    gen($('n-main'));

    let arquivosAtuais = { apostila: './Aryanna Linhares.pdf', prova: '', gab: '' };

    function selecionarExame() {
        const e = $('select-exame').value;
        if(e !== "") {
            arquivosAtuais.prova = `./prova${e}.pdf`;
            arquivosAtuais.gab = `./gabarito${e}.pdf`;
            alternarVisao('prova');
        }
    }

    function irParaAssunto(nome, pagina) {
        alternarVisao('apostila');
        $('f-pdf').src = `./Aryanna Linhares.pdf#page=${pagina}`;
        toggleMenu();
    }

    function alternarVisao(tipo) {
        let url = tipo === 'apostila' ? arquivosAtuais.apostila : 
                  tipo === 'prova' ? (arquivosAtuais.prova || arquivosAtuais.apostila) : 
                  (arquivosAtuais.gab || arquivosAtuais.apostila);
        
        $('f-pdf').src = url;
        document.querySelectorAll('.pdf-btn').forEach(b => b.classList.remove('active'));
        $(`btn-${tipo === 'gab' ? 'gabarito' : tipo}`).classList.add('active');
    }

    function toggleMenu() { $('drawer').classList.toggle('open'); $('overlay').classList.toggle('active'); }

    function insertSym(s) {
        const a = $('area-main');
        const start = a.selectionStart;
        a.value = a.value.slice(0, start) + s + a.value.slice(a.selectionEnd);
        a.focus();
        a.setSelectionRange(start + s.length, start + s.length);
        save();
    }

    function inserirModelo(t) {
        const m = {
            rt: `AO DOUTO JU√çZO DA ____ VARA DO TRABALHO DE ____\n\nRECLAMANTE, j√° qualificado, vem, com fulcro no Art. 840, ¬ß 1¬∫, da CLT...`,
            contestacao: `AO DOUTO JU√çZO DA ____ VARA DO TRABALHO DE ____\n\nProcesso n¬∫ ____\n\nRECLAMADA, j√° qualificada, com fulcro no Art. 847 da CLT...`,
            ro: `AO DOUTO JU√çZO DA ____ VARA DO TRABALHO DE ____\n\nProcesso n¬∫ ____\n\nRECORRENTE, j√° qualificado, com fulcro no Art. 895, I, da CLT...`
        };
        if(confirm("Carregar esqueleto da pe√ßa?")) { $('area-main').value = m[t]; save(); toggleMenu(); }
    }

    function save() { 
        localStorage.setItem('j_main', $('area-main').value); 
        $('l-main').innerText = "LINHA: " + $('area-main').value.split('\n').length; 
    }

    window.onload = () => { $('area-main').value = localStorage.getItem('j_main') || ""; save(); };

    let s = 18000;
    setInterval(() => { if(s>0){ s--; let h=Math.floor(s/3600), m=Math.floor((s%3600)/60), sc=s%60; $('timer').innerText = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${sc.toString().padStart(2,'0')}`; } }, 1000);
</script>
</body>
</html>
