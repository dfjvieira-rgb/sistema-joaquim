<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema OAB - Foco FGV</title>
    <style>
        :root {
            --fgv-blue: #0d47a1;
            --fgv-gold: #ffc107;
            --paper-white: #ffffff;
            --line-color: #e0e0e0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 10px;
        }

        /* Menu de Funcionalidades */
        .dashboard-nav {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-bottom: 15px;
        }

        .nav-card {
            background: white;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            border-bottom: 3px solid var(--fgv-blue);
            font-size: 0.9em;
            font-weight: bold;
        }

        /* √Årea do Enunciado (Historinha) */
        .historinha-box {
            background: #fff3e0;
            border: 1px solid #ffb74d;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-style: italic;
        }

        /* Folha de Resposta FGV */
        .fgv-sheet-container {
            background: white;
            border: 2px solid #333;
            padding: 10px;
            position: relative;
        }

        .fgv-header {
            text-align: center;
            border-bottom: 2px solid #333;
            margin-bottom: 10px;
            padding-bottom: 5px;
        }

        .answer-area {
            width: 100%;
            height: 450px;
            background-image: linear-gradient(var(--line-color) 1px, transparent 1px);
            background-size: 100% 1.5em;
            line-height: 1.5em;
            border: none;
            outline: none;
            resize: none;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            padding-top: 0;
        }

        /* Post-its e SOSARY */
        .sticky-notes {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .post-it {
            min-width: 140px;
            padding: 10px;
            background: #ffffa5;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
            font-size: 0.85em;
        }

        .sosary-badge { background: #ffcdd2; border-left: 4px solid #d32f2f; }
        .tese-badge { background: #c8e6c9; border-left: 4px solid #388e3c; }

        .btn-save {
            background: #2e7d32;
            color: white;
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            margin-top: 15px;
        }

        /* Modal para Banco de Quest√µes */
        #modalQuestioes {
            display: none;
            position: fixed;
            top: 10%; left: 5%; width: 90%; height: 80%;
            background: white; border: 2px solid var(--fgv-blue);
            z-index: 1000; padding: 20px; overflow-y: auto;
        }
    </style>
</head>
<body>

<div class="dashboard-nav">
    <div class="nav-card" onclick="abrirBanco('peca')">üìÅ Pe√ßas Anteriores</div>
    <div class="nav-card" onclick="abrirBanco('questao')">‚ùì Quest√µes OAB</div>
    <div class="nav-card" onclick="mostrarSOSARY()">üÜò SOSARY (Dicas)</div>
    <div class="nav-card" onclick="mostrarTeses()">üìö Teses p/ Assunto</div>
</div>

<div id="historinhaContainer" class="historinha-box">
    <b>Enunciado Atual:</b><br>
    <span id="textoEnunciado">Selecione uma pe√ßa ou quest√£o acima para come√ßar o simulado.</span>
</div>

<div class="fgv-sheet-container">
    <div class="fgv-header">
        <b>EXAME DE ORDEM UNIFICADO - CADERNO DE RESPOSTAS</b>
    </div>
    <textarea id="campoResposta" class="answer-area" placeholder="Escreva sua pe√ßa aqui..."></textarea>
</div>

<div class="sticky-notes">
    <div class="post-it sosary-badge" id="boxSOSARY">
        <b>SOSARY:</b><br>
        S - Sujeito<br>O - Objeto<br>S - Socorro (Art.)
    </div>
    <div class="post-it tese-badge" id="boxTeses">
        <b>Teses do Caso:</b><br>
        Clique em "Teses" para carregar.
    </div>
</div>

<button class="btn-save" onclick="salvarTudo()">üíæ SALVAR ESTUDO E POST-ITS</button>

<div id="modalQuestioes">
    <h3 id="modalTitle">Selecionar Exerc√≠cio</h3>
    <div id="listaItens"></div>
    <button onclick="fecharModal()" style="margin-top:20px;">Fechar</button>
</div>

<script>
    const bancoDados = {
        peca: [
            { id: 1, titulo: "Apela√ß√£o C√≠vel - Exame XXXV", enunciado: "Historinha: Jo√£o perdeu a a√ß√£o de cobran√ßa em 1¬™ inst√¢ncia...", dicas: "Art. 1.009 CPC", teses: "Preliminar de Cerceamento de Defesa." },
            { id: 2, titulo: "Habeas Corpus - Exame XXXVIII", enunciado: "Historinha: Maria est√° presa preventivamente sem fundamenta√ß√£o...", dicas: "Art. 5¬∫, LXVIII CF", teses: "Aus√™ncia dos requisitos do Art. 312 CPP." }
        ],
        questao: [
            { id: 3, titulo: "Quest√£o 1 - Dir. Trabalho", enunciado: "Sobre o regime de sobrejornada do banc√°rio...", dicas: "S√∫mula 102 TST", teses: "Cargo de confian√ßa vs Horas Extras." }
        ]
    };

    function abrirBanco(tipo) {
        const modal = document.getElementById('modalQuestioes');
        const lista = document.getElementById('listaItens');
        document.getElementById('modalTitle').innerText = tipo === 'peca' ? "Pe√ßas Anteriores" : "Quest√µes Anteriores";
        
        lista.innerHTML = "";
        bancoDados[tipo].forEach(item => {
            let div = document.createElement('div');
            div.style.padding = "10px";
            div.style.borderBottom = "1px solid #ddd";
            div.style.cursor = "pointer";
            div.innerHTML = `<b>${item.titulo}</b>`;
            div.onclick = () => carregarExercicio(item);
            lista.appendChild(div);
        });
        modal.style.display = "block";
    }

    function carregarExercicio(item) {
        document.getElementById('textoEnunciado').innerText = item.enunciado;
        document.getElementById('boxTeses').innerHTML = `<b>Teses do Caso:</b><br>${item.teses}`;
        document.getElementById('boxSOSARY').innerHTML = `<b>Dicas SOS:</b><br>${item.dicas}`;
        document.getElementById('campoResposta').value = ""; // Limpa para novo treino
        fecharModal();
    }

    function fecharModal() {
        document.getElementById('modalQuestioes').style.display = "none";
    }

    function salvarTudo() {
        const dados = {
            resposta: document.getElementById('campoResposta').value,
            enunciado: document.getElementById('textoEnunciado').innerText,
            teses: document.getElementById('boxTeses').innerHTML
        };
        localStorage.setItem('estudoOAB_Salvo', JSON.stringify(dados));
        alert("Estudo salvo com sucesso para consulta posterior!");
    }

    function mostrarSOSARY() {
        alert("S.O.S.A.R.Y: \nS - Sujeitos\nO - Objeto\nS - Sorte\nA - Artigo\nR - Rito\nY - Yeap (Conclus√£o)");
    }

    // Carregar √∫ltimo estado
    window.onload = () => {
        const salvo = JSON.parse(localStorage.getItem('estudoOAB_Salvo'));
        if(salvo) {
            document.getElementById('campoResposta').value = salvo.resposta;
            document.getElementById('textoEnunciado').innerText = salvo.enunciado;
            document.getElementById('boxTeses').innerHTML = salvo.teses;
        }
    }
</script>

</body>
</html>
